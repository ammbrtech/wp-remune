{"ast":null,"code":"import _regeneratorRuntime from\"/Applications/MAMP/htdocs/wordpress/wp-content/plugins/remune/widget/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Applications/MAMP/htdocs/wordpress/wp-content/plugins/remune/widget/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Applications/MAMP/htdocs/wordpress/wp-content/plugins/remune/widget/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Applications/MAMP/htdocs/wordpress/wp-content/plugins/remune/widget/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Applications/MAMP/htdocs/wordpress/wp-content/plugins/remune/widget/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Applications/MAMP/htdocs/wordpress/wp-content/plugins/remune/widget/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Loading}from'react-simple-chatbot';var Transaction=/*#__PURE__*/function(_Component){_inherits(Transaction,_Component);var _super=_createSuper(Transaction);function Transaction(props){var _this;_classCallCheck(this,Transaction);_this=_super.call(this,props);_this.postData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,data,response,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=_args.length>0&&_args[0]!==undefined?_args[0]:'';data=_args.length>1&&_args[1]!==undefined?_args[1]:{};_context.next=4;return fetch(url,{method:'POST',// *GET, POST, PUT, DELETE, etc.\nmode:'cors',// no-cors, *cors, same-origin\ncache:'no-cache',// *default, no-cache, reload, force-cache, only-if-cached\n//credentials: 'same-origin', // include, *same-origin, omit\nheaders:{'Content-Type':'application/json'// 'Content-Type': 'application/x-www-form-urlencoded',\n},//redirect: 'follow', // manual, *follow, error\n//referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\nbody:JSON.stringify(data)// body data type must match \"Content-Type\" header\n});case 4:response=_context.sent;return _context.abrupt(\"return\",response.json());case 6:case\"end\":return _context.stop();}}},_callee);}));_this.state={loading:true,result:'',trigger:false};return _this;}_createClass(Transaction,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var steps=this.props.steps;var amt=steps.amt.value;var plan=steps.plan.value;var identity=steps.identity.value;var dataMessage=identity+\" \"+window.remune_script_vars.remune_id+\" \"+amt+\" xlm \"+plan;this.postData(window.remune_script_vars.basepath+'/user/app/transaction',{data:dataMessage,botType:\"WP\",botId:\"sd\",to_jid:\"fds\",account_id:\"sdf\"}).then(function(data){_this2.setState({loading:false,result:data});_this2.triggetNext();});}},{key:\"triggetNext\",value:function triggetNext(){var _this3=this;this.setState({trigger:true},function(){_this3.props.triggerNextStep();});}},{key:\"render\",value:function render(){var _this$state=this.state,trigger=_this$state.trigger,loading=_this$state.loading,result=_this$state.result;return/*#__PURE__*/React.createElement(\"div\",{className:\"remune-message\",style:{fontSize:\"14px\"}},loading&&/*#__PURE__*/React.createElement(Loading,null),!loading&&/*#__PURE__*/React.createElement(\"p\",null,\"You can go and complete the transaction\",' ',/*#__PURE__*/React.createElement(\"a\",{href:result.message,target:\"_blank\"},\"here\")));}}]);return Transaction;}(Component);export{Transaction as default};","map":{"version":3,"sources":["/Applications/MAMP/htdocs/wordpress/wp-content/plugins/remune/widget/src/Transaction.js"],"names":["React","Component","Loading","Transaction","props","postData","url","data","fetch","method","mode","cache","headers","body","JSON","stringify","response","json","state","loading","result","trigger","steps","amt","value","plan","identity","dataMessage","window","remune_script_vars","remune_id","basepath","botType","botId","to_jid","account_id","then","setState","triggetNext","triggerNextStep","fontSize","message"],"mappings":"+kCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,sBAAxB,C,GAEqBC,CAAAA,W,0GACnB,qBAAYC,KAAZ,CAAmB,6CACjB,uBAAMA,KAAN,EADiB,MAsClBC,QAtCkB,sEAsCP,yKAAOC,GAAP,+CAAa,EAAb,CAAiBC,IAAjB,+CAAwB,EAAxB,uBAEeC,CAAAA,KAAK,CAACF,GAAD,CAAM,CAChCG,MAAM,CAAE,MADwB,CAChB;AAChBC,IAAI,CAAE,MAF0B,CAElB;AACdC,KAAK,CAAE,UAHyB,CAGb;AACnB;AACAC,OAAO,CAAE,CACP,eAAgB,kBAChB;AAFO,CALuB,CAShC;AACA;AACAC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeR,IAAf,CAAqB;AAXK,CAAN,CAFpB,QAEFS,QAFE,+CAeDA,QAAQ,CAACC,IAAT,EAfC,wDAtCO,GAGjB,MAAKC,KAAL,CAAa,CACXC,OAAO,CAAE,IADE,CAEXC,MAAM,CAAE,EAFG,CAGXC,OAAO,CAAE,KAHE,CAAb,CAHiB,aAQlB,C,qFAEmB,oBACVC,CAAAA,KADU,CACA,KAAKlB,KADL,CACVkB,KADU,CAElB,GAAMC,CAAAA,GAAG,CAAGD,KAAK,CAACC,GAAN,CAAUC,KAAtB,CACA,GAAMC,CAAAA,IAAI,CAAGH,KAAK,CAACG,IAAN,CAAWD,KAAxB,CACA,GAAME,CAAAA,QAAQ,CAAGJ,KAAK,CAACI,QAAN,CAAeF,KAAhC,CACA,GAAMG,CAAAA,WAAW,CAAGD,QAAQ,CAAG,GAAX,CAAiBE,MAAM,CAACC,kBAAP,CAA0BC,SAA3C,CAAuD,GAAvD,CAA6DP,GAA7D,CAAmE,OAAnE,CAA6EE,IAAjG,CAEA,KAAKpB,QAAL,CAAcuB,MAAM,CAACC,kBAAP,CAA0BE,QAA1B,CAAmC,uBAAjD,CACA,CACExB,IAAI,CAAEoB,WADR,CAEEK,OAAO,CAAC,IAFV,CAGEC,KAAK,CAAE,IAHT,CAIEC,MAAM,CAAE,KAJV,CAKEC,UAAU,CAAE,KALd,CADA,EASGC,IATH,CASQ,SAAA7B,IAAI,CAAI,CACZ,MAAI,CAAC8B,QAAL,CAAc,CAAElB,OAAO,CAAE,KAAX,CAAkBC,MAAM,CAAEb,IAA1B,CAAd,EACA,MAAI,CAAC+B,WAAL,GACD,CAZH,EAaD,C,iDAEa,iBACZ,KAAKD,QAAL,CAAc,CAAEhB,OAAO,CAAE,IAAX,CAAd,CAAiC,UAAM,CACrC,MAAI,CAACjB,KAAL,CAAWmC,eAAX,GACD,CAFD,EAGD,C,uCAoBS,iBAC6B,KAAKrB,KADlC,CACAG,OADA,aACAA,OADA,CACSF,OADT,aACSA,OADT,CACkBC,MADlB,aACkBA,MADlB,CAGR,mBACE,2BAAK,SAAS,CAAC,gBAAf,CAAgC,KAAK,CAAE,CAACoB,QAAQ,CAAE,MAAX,CAAvC,EACIrB,OAAO,eAAI,oBAAC,OAAD,MADf,CAEG,CAACA,OAAD,eACC,uEAA2C,GAA3C,cACE,yBAAG,IAAI,CAAEC,MAAM,CAACqB,OAAhB,CAAyB,MAAM,CAAC,QAAhC,SADF,CAHJ,CADF,CAYD,C,yBAxEsCxC,S,SAApBE,W","sourcesContent":["import React, { Component } from 'react';\nimport { Loading } from 'react-simple-chatbot';\n\nexport default class Transaction extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      result: '',\n      trigger: false,\n    };\n  }\n\n  componentDidMount() {\n    const { steps } = this.props;\n    const amt = steps.amt.value;\n    const plan = steps.plan.value;\n    const identity = steps.identity.value;\n    const dataMessage = identity + \" \" + window.remune_script_vars.remune_id + \" \" + amt + \" xlm \" + plan;\n\n    this.postData(window.remune_script_vars.basepath+'/user/app/transaction',\n    {\n      data: dataMessage,\n      botType:\"WP\",\n      botId: \"sd\",\n      to_jid: \"fds\",\n      account_id: \"sdf\"\n    }\n   )\n      .then(data => {\n        this.setState({ loading: false, result: data});\n        this.triggetNext()\n      });\n  }\n\n  triggetNext() {\n    this.setState({ trigger: true }, () => {\n      this.props.triggerNextStep();\n    });\n  }\n\n   postData = async (url = '', data = {}) => {\n      // Default options are marked with *\n      const response = await fetch(url, {\n        method: 'POST', // *GET, POST, PUT, DELETE, etc.\n        mode: 'cors', // no-cors, *cors, same-origin\n        cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n        //credentials: 'same-origin', // include, *same-origin, omit\n        headers: {\n          'Content-Type': 'application/json'\n          // 'Content-Type': 'application/x-www-form-urlencoded',\n        },\n        //redirect: 'follow', // manual, *follow, error\n        //referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n        body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n      });\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n\n  render () {\n    const { trigger, loading, result } = this.state;\n\n    return (\n      <div className=\"remune-message\" style={{fontSize: \"14px\"}}>\n        { loading && <Loading />}\n        {!loading &&\n          <p>You can go and complete the transaction{' '}\n            <a href={result.message} target=\"_blank\">here</a>\n          </p>\n         }\n\n      </div>\n    );\n\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
(this.webpackJsonpwidget=this.webpackJsonpwidget||[]).push([[0],{117:function(e,t,n){e.exports=n(223)},122:function(e,t,n){},130:function(e,t){},132:function(e,t){},142:function(e,t){},144:function(e,t){},171:function(e,t){},172:function(e,t){},177:function(e,t){},179:function(e,t){},203:function(e,t){},223:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(112),o=n.n(i),l=(n(122),n(24)),s=n.n(l),u=n(36),c=n(20),d=n(21),g=n(23),p=n(22),m=n(37),v=n.n(m),h={borderCollapse:"collapse",fontSize:"12px",margin:0},f={margin:0},y=function(e){Object(g.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={identity:"",plan:"",amt:""},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.steps,t=e.identity,n=e.plan,a=e.amt;this.setState({identity:t,plan:n,amt:a})}},{key:"render",value:function(){var e=this.state,t=e.identity,n=e.plan,a=e.amt;return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("h5",{style:f},"Summary"),r.a.createElement("table",{style:h},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{width:"50%"},"Remune ID"),r.a.createElement("td",null,t.value)),r.a.createElement("tr",null,r.a.createElement("td",null,"Plan"),r.a.createElement("td",null,n.value)),r.a.createElement("tr",null,r.a.createElement("td",null,"XLS"),r.a.createElement("td",null,a.value)))))}}]),n}(a.Component);y.defaultProps={steps:void 0};var b=n(116),E=n.n(b),w=function(e){Object(g.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).postData=Object(u.a)(s.a.mark((function e(){var t,n,a,r,i=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"",n=i.length>1&&void 0!==i[1]?i[1]:{},a=i.length>2&&void 0!==i[2]?i[2]:"",e.prev=3,e.next=6,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json","x-api-key":a},body:JSON.stringify(n)});case 6:return r=e.sent,console.log(r),e.abrupt("return",r.json());case 11:e.prev=11,e.t0=e.catch(3),console.log("error",e.t0),console.log("error",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),a.state={loading:!0,result:"",trigger:!1},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.steps;this.postData(window.remune_script_vars.basepath+"/wp/transaction",{receiver:window.remune_script_vars.remune_id,sender:t.identity.value,amount:t.amt.value,frequency:t.plan.value,botId:window.location.hostname,accountId:E()(window.remune_script_vars.remune_id+window.location.hostname).toString()},window.remune_script_vars.secret).then((function(t){console.log(t),e.setState({loading:!1,result:t});var n=t.status?"":"review";e.triggetNext(n)}))}},{key:"triggetNext",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({trigger:!0},(function(){""===t?e.props.triggerNextStep():e.props.triggerNextStep({trigger:t})}))}},{key:"render",value:function(){var e=this.state,t=(e.trigger,e.loading),n=e.result;return r.a.createElement("div",{className:"remune-message",style:{fontSize:"14px"}},t&&r.a.createElement(m.Loading,null),!t&&!0===n.status&&r.a.createElement("p",null,"You can go and complete the transaction"," ",r.a.createElement("a",{href:n.message,target:"_blank"},"here")),!t&&!1===n.status&&r.a.createElement("p",null,n.message))}}]),n}(a.Component),k=n(56),j={background:"#f5f8fb",headerBgColor:"#E3392E",headerFontColor:"#fff",headerFontSize:"15px",botBubbleColor:"#FFFFFF",botFontColor:"#000",userBubbleColor:"#FEFEFE",userFontColor:"#010101"},O=function(e){Object(g.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleEnd=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("doneee");case 1:case"end":return e.stop()}}),e)}))),e}return Object(d.a)(n,[{key:"render",value:function(){var e=window.remune_script_vars.base_url+"/wp-content/plugins/remune/widget/build/assets/icon.jpg";return r.a.createElement(k.ThemeProvider,{theme:j},r.a.createElement(v.a,{headerTitle:"REMUNE",floatingIcon:e,botAvatar:e,floating:"true",handleEnd:this.handleEnd,submitButtonStyle:{fill:"#E3392E"},steps:[{id:"1",message:"What is your remune ID?",trigger:"identity"},{id:"identity",user:!0,validator:function(e){return""!==e||"Enter your remune ID"},trigger:"3"},{id:"3",message:"Hi {previousValue}! Please choose your plan",trigger:"plan"},{id:"plan",options:[{value:"onetime",label:"One Time",trigger:"5"},{value:"daily",label:"Daily",trigger:"5"},{value:"weekly",label:"Weekly",trigger:"5"},{value:"monthly",label:"Monthly",trigger:"5"}]},{id:"5",message:"How much xls you need to send?",trigger:"amt"},{id:"amt",user:!0,trigger:"7",validator:function(e){return isNaN(e)?"value must be a number":!(e<0)||"value must be positive"}},{id:"7",message:"Great! Check out your summary",trigger:"review"},{id:"review",component:r.a.createElement(y,null),asMessage:!0,trigger:"update"},{id:"update",message:"Would you like to continue?",trigger:"update-question"},{id:"update-question",options:[{value:"yes",label:"Proceed",trigger:"transaction"},{value:"cancel",label:"Cancel",trigger:"cancel-transaction"},{value:"no",label:"Modify",trigger:"update-yes"}]},{id:"update-yes",message:"What field would you like to update?",trigger:"update-fields"},{id:"update-fields",options:[{value:"identity",label:"Remune ID",trigger:"update-identity"},{value:"plan",label:"Plan",trigger:"update-plan"},{value:"amt",label:"XLS",trigger:"update-amt"}]},{id:"update-identity",update:"identity",trigger:"7"},{id:"update-plan",update:"plan",trigger:"7"},{id:"update-amt",update:"amt",trigger:"7"},{id:"transaction",component:r.a.createElement(w,null),asMessage:!0,waitAction:!0,trigger:"response"},{id:"cancel-transaction",message:"Transaction cancelled!",trigger:"response"},{id:"response",message:"Would you like to do another transaction?",trigger:"response-question"},{id:"response-question",options:[{value:"yes",label:"Yes",trigger:"1"},{value:"no",label:"No",trigger:"end-message"}]},{id:"end-message",message:"Thank You!",end:!0,hideInput:!0}]}))}}]),n}(r.a.Component),S=document.getElementById("remune-wrapper");S&&o.a.render(r.a.createElement(O,null),S)}},[[117,1,2]]]);
//# sourceMappingURL=main.feab66ab.chunk.js.map
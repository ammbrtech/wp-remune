{"version":3,"sources":["Review.js","Transaction.js","App.js","index.js"],"names":["tableStyle","borderCollapse","fontSize","margin","headerSummary","Review","props","state","identity","plan","amt","steps","this","setState","style","width","value","Component","defaultProps","undefined","Transaction","postData","a","url","data","secret","fetch","method","mode","cache","headers","body","JSON","stringify","response","console","log","json","loading","result","trigger","window","remune_script_vars","basepath","receiver","remune_id","sender","amount","frequency","botId","location","hostname","accountId","MD5","toString","then","triggering","status","triggetNext","triggerStep","triggerNextStep","className","href","message","target","theme","background","headerBgColor","headerFontColor","headerFontSize","botBubbleColor","botFontColor","userBubbleColor","userFontColor","App","handleEnd","icon","base_url","headerTitle","floatingIcon","botAvatar","floating","submitButtonStyle","fill","id","user","validator","options","label","isNaN","component","asMessage","update","waitAction","end","hideInput","React","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.3c3f50f8.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst tableStyle = {\n  borderCollapse: \"collapse\",\n  fontSize: \"12px\",\n  margin: 0\n};\n\nconst headerSummary = {\n  margin:0\n}\n\nexport default class Review extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      identity: '',\n      plan: '',\n      amt: '',\n    };\n  }\n\n  componentDidMount() {\n    const { steps } = this.props;\n    const { identity, plan, amt } = steps;\n\n    this.setState({ identity, plan, amt });\n  }\n\n  render() {\n    const { identity, plan, amt } = this.state;\n    return (\n      <div style={{ width: '100%' }}>\n        <h5 style={headerSummary}>Summary</h5>\n        <table style={tableStyle}>\n          <tbody>\n            <tr>\n              <td width=\"50%\">Remune handle</td>\n              <td>{identity.value}</td>\n            </tr>\n            <tr>\n              <td>Plan</td>\n              <td>{plan.value}</td>\n            </tr>\n            <tr>\n              <td>Amount</td>\n              <td>{amt.value}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nReview.propTypes = {\n  steps: PropTypes.object,\n};\n\nReview.defaultProps = {\n  steps: undefined,\n};\n","import React, {Component} from \"react\";\nimport {Loading} from \"react-simple-chatbot\";\nimport MD5 from \"crypto-js/md5\";\n\nexport default class Transaction extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      result: \"\",\n      trigger: false\n    };\n  }\n\n  componentDidMount() {\n    const {steps} = this.props;\n\n    this.postData(\n      window.remune_script_vars.basepath + \"/wp/transaction\",\n      {\n        receiver: window.remune_script_vars.remune_id,\n        sender: steps.identity.value,\n        amount: steps.amt.value,\n        frequency: steps.plan.value,\n        botId: window.location.hostname,\n        accountId: MD5(\n          window.remune_script_vars.remune_id + window.location.hostname\n        ).toString()\n      },\n      window.remune_script_vars.secret\n    ).then(data => {\n      console.log(data);\n      this.setState({loading: false, result: data});\n      const triggering = !data.status ? \"review\" : \"\";\n      this.triggetNext(triggering);\n    });\n  }\n\n  triggetNext(triggerStep = \"\") {\n    this.setState({trigger: true}, () => {\n      if (triggerStep === \"\") {\n        this.props.triggerNextStep();\n      } else {\n        this.props.triggerNextStep({trigger: triggerStep});\n      }\n    });\n  }\n\n  postData = async (url = \"\", data = {}, secret = \"\") => {\n    try {\n      // Default options are marked with *\n      const response = await fetch(url, {\n        method: \"POST\",\n        mode: \"cors\", // no-cors, *cors, same-origin\n        cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-api-key\": secret\n          // 'Content-Type': 'application/x-www-form-urlencoded',\n        },\n        body: JSON.stringify(data)\n      });\n\n      console.log(response);\n      return response.json();\n    } catch (e) {\n      console.log(\"error\", e);\n      console.log(\"error\", e.response);\n    }\n  };\n\n  render() {\n    const {trigger, loading, result} = this.state;\n\n    return (\n      <div className=\"remune-message\" style={{fontSize: \"14px\"}}>\n        {loading && <Loading />}\n        {!loading && result.status === true && (\n          <p>\n            You can go and complete the transaction{\" \"}\n            <a href={result.message} target=\"_blank\">\n              here\n            </a>\n          </p>\n        )}\n        {!loading && result.status === false && <p>{result.message}</p>}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ChatBot from \"react-simple-chatbot\";\nimport Review from \"./Review\";\nimport Transaction from \"./Transaction\";\n\nimport {ThemeProvider} from \"styled-components\";\n\nconst theme = {\n  background: \"#f5f8fb\",\n  headerBgColor: \"#E3392E\",\n  headerFontColor: \"#fff\",\n  headerFontSize: \"15px\",\n  botBubbleColor: \"#FFFFFF\",\n  botFontColor: \"#000\",\n  userBubbleColor: \"#FEFEFE\",\n  userFontColor: \"#010101\"\n};\n\nclass App extends React.Component {\n  handleEnd = async () => {\n    console.log(\"doneee\");\n  };\n\n  render() {\n    const icon =\n      window.remune_script_vars.base_url +\n      process.env.PUBLIC_URL +\n      \"/assets/icon.jpg\";\n    return (\n      <ThemeProvider theme={theme}>\n        <ChatBot\n          headerTitle=\"REMUNE\"\n          floatingIcon={icon}\n          botAvatar={icon}\n          floating=\"true\"\n          handleEnd={this.handleEnd}\n          submitButtonStyle={{fill: \"#E3392E\"}}\n          steps={[\n            {\n              id: \"1\",\n              message: \"What is your remune handle?\",\n              trigger: \"identity\"\n            },\n            {\n              id: \"identity\",\n              user: true,\n              validator: value => {\n                if (value === \"\") {\n                  return \"Please enter your remune handle\";\n                }\n                return true;\n              },\n              trigger: \"3\"\n            },\n            {\n              id: \"3\",\n              message:\n                \"Hi {previousValue}, please choose your payment frequency.\",\n              trigger: \"plan\"\n            },\n            {\n              id: \"plan\",\n              options: [\n                {\n                  value: \"onetime\",\n                  label: \"One Time\",\n                  trigger: \"5\"\n                },\n                {value: \"daily\", label: \"Daily\", trigger: \"5\"},\n                {value: \"weekly\", label: \"Weekly\", trigger: \"5\"},\n                {value: \"monthly\", label: \"Monthly\", trigger: \"5\"}\n              ]\n            },\n            {\n              id: \"5\",\n              message: \"How much do you want to send?\",\n              trigger: \"amt\"\n            },\n            {\n              id: \"amt\",\n              user: true,\n              trigger: \"7\",\n              validator: value => {\n                if (isNaN(value)) {\n                  return \"Amount must be a number\";\n                } else if (value < 0) {\n                  return \"Amount must be positive\";\n                }\n\n                return true;\n              }\n            },\n            {\n              id: \"7\",\n              message: \"Great! Check out your summary\",\n              trigger: \"review\"\n            },\n            {\n              id: \"review\",\n              component: <Review />,\n              asMessage: true,\n              trigger: \"update\"\n            },\n            {\n              id: \"update\",\n              message: \"Would you like to continue?\",\n              trigger: \"update-question\"\n            },\n            {\n              id: \"update-question\",\n              options: [\n                {\n                  value: \"yes\",\n                  label: \"Proceed\",\n                  trigger: \"transaction\"\n                },\n                {\n                  value: \"cancel\",\n                  label: \"Cancel\",\n                  trigger: \"cancel-transaction\"\n                },\n                {value: \"no\", label: \"Modify\", trigger: \"update-yes\"}\n              ]\n            },\n            {\n              id: \"update-yes\",\n              message: \"Which field would you like to update?\",\n              trigger: \"update-fields\"\n            },\n            {\n              id: \"update-fields\",\n              options: [\n                {\n                  value: \"identity\",\n                  label: \"Remune handle\",\n                  trigger: \"update-identity\"\n                },\n                {value: \"plan\", label: \"Plan\", trigger: \"update-plan\"},\n                {value: \"amt\", label: \"XLM\", trigger: \"update-amt\"}\n              ]\n            },\n            {\n              id: \"update-identity\",\n              update: \"identity\",\n              trigger: \"7\"\n            },\n            {\n              id: \"update-plan\",\n              update: \"plan\",\n              trigger: \"7\"\n            },\n            {\n              id: \"update-amt\",\n              update: \"amt\",\n              trigger: \"7\"\n            },\n            {\n              id: \"transaction\",\n              component: <Transaction />,\n              asMessage: true,\n              waitAction: true,\n              trigger: \"response\"\n            },\n            {\n              id: \"cancel-transaction\",\n              message: \"Transaction cancelled!\",\n              trigger: \"response\"\n            },\n            {\n              id: \"response\",\n              message: \"Would you like to do another transaction?\",\n              trigger: \"response-question\"\n            },\n            {\n              id: \"response-question\",\n              options: [\n                {value: \"yes\", label: \"Yes\", trigger: \"1\"},\n                {value: \"no\", label: \"No\", trigger: \"end-message\"}\n              ]\n            },\n            {\n              id: \"end-message\",\n              message: \"Thank You!\",\n              end: true,\n              hideInput: true\n            }\n          ]}\n        />\n      </ThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\n\nconst target = document.getElementById('remune-wrapper');\nif (target) { ReactDOM.render(<App />, target); }\n\n//serviceWorker.unregister();\n"],"sourceRoot":""}